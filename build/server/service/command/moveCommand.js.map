{"version":3,"sources":["../../../../server/service/command/moveCommand.js"],"names":["user","data","world","out","status","send","toAll","userList","opponent","u","nickname","actions","push","type","path"],"mappings":";;;;;;kBAAe,UAACA,IAAD,EAAOC,IAAP,EAAaC,KAAb,EAAuB;;AAElC,QAAIC,MAAM;AACNC,gBAAQ;AACJC,kBAAM,IADF;AAEJC,mBAAO;AAFH,SADF;AAKNJ,eAAOA;AALD,KAAV;;AAQA,QAAIK,WAAWL,MAAMK,QAArB;AACA,QAAIC,WAAW,IAAf;AAXkC;AAAA;AAAA;;AAAA;AAYlC,6BAAcD,QAAd,8HAAwB;AAAA,gBAAfE,CAAe;;AACpB,gBAAIP,MAAMF,IAAN,CAAWS,CAAX,EAAcR,IAAd,CAAmBS,QAAnB,KAAgCV,IAApC,EAA0C;AACtCQ,2BAAWN,MAAMF,IAAN,CAAWS,CAAX,EAAcR,IAAd,CAAmBS,QAA9B;AACH;AACJ;AAhBiC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAiBlCP,QAAID,KAAJ,CAAUF,IAAV,CAAeQ,QAAf,EAAyBG,OAAzB,CAAiCC,IAAjC,CAAsC;AAClCC,cAAM,MAD4B;AAElCZ,cAAMA,KAAKa;AAFuB,KAAtC;;AAKA,WAAOX,GAAP;AACH,C","file":"moveCommand.js","sourcesContent":["export default (user, data, world) => {\n    \n    let out = {\n        status: {\n            send: true,\n            toAll: false\n        },\n        world: world\n    }\n    \n    let userList = world.userList;\n    let opponent = null;\n    for (let u of userList) {\n        if (world.user[u].data.nickname !== user) {\n            opponent = world.user[u].data.nickname;\n        }\n    }\n    out.world.user[opponent].actions.push({\n        type: 'move',\n        data: data.path\n    });\n\n    return out;\n};"]}