{"version":3,"sources":["../../../server/adapter/storage.js"],"names":["Storage","client","logger","getInstance","_onError","err","error","createClient","process","env","REDIS_URL","on","instance"],"mappings":";;;;;;AAAA;;;;AACA;;;;;;;;IAEMA,O,GAKF,mBAAc;AAAA;;AAAA;;AAAA,SAHdC,MAGc,GAHL,IAGK;AAAA,SAFdC,MAEc,GAFL,iBAAOC,WAAP,EAEK;;AAAA,SAKdC,QALc,GAKH,UAACC,GAAD,EAAS;AAChB,cAAKH,MAAL,CAAYI,KAAZ,CAAkB,qBAAqBD,GAAvC;AACH,KAPa;;AACV,SAAKJ,MAAL,GAAc,gBAAMM,YAAN,CAAmBC,QAAQC,GAAR,CAAYC,SAA/B,CAAd;AACA,SAAKT,MAAL,CAAYU,EAAZ,CAAe,OAAf,EAAwB,KAAKP,QAA7B;AACH,C;;AAOL,IAAIQ,WAAW,IAAf;AACAZ,QAAQG,WAAR,GAAsB,YAAW;AAC7B,QAAIS,aAAa,IAAjB,EAAuB;AACnBA,mBAAW,IAAIZ,OAAJ,EAAX;AACH;AACD,WAAOY,SAASX,MAAhB;AACH,CALD;;kBAOeD,O","file":"storage.js","sourcesContent":["import redis from 'redis';\nimport Logger from '../helper/logger';\n\nclass Storage {\n    \n    client = null;\n    logger = Logger.getInstance();\n\n    constructor() {\n        this.client = redis.createClient(process.env.REDIS_URL);\n        this.client.on('error', this._onError);\n    }\n\n    _onError = (err) => {\n        this.logger.error('Caching System: ' + err);\n    }\n}\n\nvar instance = null;\nStorage.getInstance = function() {\n    if (instance === null) {\n        instance = new Storage();\n    }\n    return instance.client;\n}\n\nexport default Storage;"]}