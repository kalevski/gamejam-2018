{"version":3,"sources":["../../../../server/endpoint/app/rootEndpoint.js"],"names":["RootEndpoint","request","response","status","indexPath","join","process","env","ROOT","WEBAPP_INDEX","pattern","path","i","length","match","code","sendFile"],"mappings":";;;;;;;;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;;;;;;;;;IAEMA,Y;;;;;;;;;;;4BACEC,O,EAASC,Q,EAAU;AACnB,gBAAIC,SAAS,GAAb;AACA,gBAAIC,YAAY,eAAKC,IAAL,CAAUC,QAAQC,GAAR,CAAYC,IAAtB,EAA4BF,QAAQC,GAAR,CAAYE,YAAxC,CAAhB;;AAEA,gBAAIC,UAAU,yBAAeT,QAAQU,IAAvB,CAAd;;AAEA,iBAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAI,uBAAaC,MAAjC,EAAyCD,GAAzC,EAA8C;AAC1C,oBAAIF,QAAQI,KAAR,CAAc,uBAAaF,CAAb,EAAgBD,IAA9B,MAAwC,IAA5C,EAAkD;AAC9CR,6BAAS,uBAAaS,CAAb,EAAgBG,IAAzB;AACA;AACH;AACJ;;AAEDb,qBAASC,MAAT,CAAgBA,MAAhB,EAAwBa,QAAxB,CAAiCZ,SAAjC;AACH;;;;;;kBAGUJ,Y","file":"rootEndpoint.js","sourcesContent":["import path from 'path';\nimport UrlPattern from 'url-pattern';\nimport Endpoint from '../endpoint';\nimport webAppRouter from '../../webAppRouter';\n\nclass RootEndpoint extends Endpoint {\n    get(request, response) {\n        var status = 404;\n        var indexPath = path.join(process.env.ROOT, process.env.WEBAPP_INDEX);\n\n        var pattern = new UrlPattern(request.path);\n        \n        for (let i = 0; i < webAppRouter.length; i++) {\n            if (pattern.match(webAppRouter[i].path) !== null) {\n                status = webAppRouter[i].code;\n                break;\n            }    \n        }\n\n        response.status(status).sendFile(indexPath);\n    }\n}\n\nexport default RootEndpoint;"]}